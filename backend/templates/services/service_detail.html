{% extends "base.html" %}
{% block title %}{{ service.name }} — Mediscan{% endblock %}

{% block content %}
<div class="grid grid-cols-1 lg:grid-cols-12 gap-6">

  <!-- (опционально) категории слева -->
  <aside class="lg:col-span-3">
    <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-4">
      <div class="text-sm font-semibold">Категории</div>
      <div class="mt-3 space-y-1">
        <a href="{% url 'services:list' %}"
           class="block rounded-lg px-3 py-2 text-sm hover:bg-slate-100 text-slate-700">
          Все услуги
        </a>
        {% for c in categories %}
          <a href="{% url 'services:category' c.slug %}"
             class="block rounded-lg px-3 py-2 text-sm hover:bg-slate-100 text-slate-700
                    {% if service.category.slug == c.slug %}bg-slate-900 text-white hover:bg-slate-900{% endif %}">
            {{ c.name }}
          </a>
        {% endfor %}
      </div>
    </div>
  </aside>

  <!-- контент -->
  <section class="lg:col-span-9">

    <!-- хлебные крошки -->
    <nav class="text-sm text-slate-500">
      <a class="hover:text-slate-900" href="{% url 'services:list' %}">Услуги</a>
      <span class="mx-2">/</span>
      <a class="hover:text-slate-900" href="{% url 'services:category' service.category.slug %}">
        {{ service.category.name }}
      </a>
      <span class="mx-2">/</span>
      <span class="text-slate-700">{{ service.name }}</span>
    </nav>

    <div class="mt-4 bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
      <div class="text-xs text-slate-500">{{ service.category.name }}</div>

      <h1 class="mt-2 text-2xl font-semibold text-slate-900">
        {{ service.name }}
      </h1>

      <!-- цены -->
      <div class="mt-4 flex flex-wrap items-center gap-3">
        <div class="inline-flex items-center rounded-xl bg-slate-900 text-white px-3 py-1 text-sm font-semibold">
          от {{ service.price_from }} ₽{% if service.price_to %} — {{ service.price_to }} ₽{% endif %}
        </div>
      </div>

      <!-- описание -->
      {% if service.description %}
        <div class="mt-6 prose max-w-none">
          {{ service.description|linebreaks }}
        </div>
      {% else %}
        <div class="mt-6 text-slate-600">
          Описание услуги скоро появится.
        </div>
      {% endif %}

      <!-- кнопки -->
      <div class="mt-8 flex flex-wrap gap-3">
        <a
          href="{% url 'appointments:create' %}?service={{ service.id }}"
          class="inline-flex items-center justify-center rounded-xl bg-slate-900 text-white px-4 py-2 text-sm font-medium hover:bg-slate-800">
          Записаться
        </a>

        <button
          type="button"
          class="inline-flex items-center justify-center rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50"
          disabled>
          Добавить в корзину (подключим позже)
        </button>

        <a
          href="{% url 'services:category' service.category.slug %}"
          class="inline-flex items-center justify-center rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50">
          Все услуги категории
        </a>
      </div>
    </div>
  </section>
</div>
{% endblock %}